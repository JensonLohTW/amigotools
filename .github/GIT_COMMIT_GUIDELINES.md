# Git 提交規範指南

## 提交訊息格式

使用以下格式進行提交：

```
<類型>(<範圍>): <簡短描述>

<詳細描述>（可選）

<相關問題>（可選）
```

### 類型（Type）

- **feat**: 新功能
- **fix**: 錯誤修復
- **docs**: 文檔更新
- **style**: 代碼格式調整（不影響功能）
- **refactor**: 代碼重構
- **perf**: 性能優化
- **test**: 測試相關
- **chore**: 構建過程或輔助工具的變動
- **data**: 數據分析相關
- **viz**: 數據視覺化相關
- **model**: 機器學習模型相關

### 範圍（Scope）

- **analysis**: 數據分析
- **viz**: 視覺化
- **ui**: 用戶界面
- **api**: API相關
- **config**: 配置文件
- **docs**: 文檔
- **test**: 測試
- **build**: 構建系統

### 示例

```bash
feat(analysis): 新增訂單數據分析功能

- 實現Excel文件解析
- 添加基礎統計分析
- 生成營收趨勢圖表

Closes #123
```

```bash
fix(viz): 修復圖表中文字體顯示問題

調整matplotlib中文字體配置，解決圖表標籤亂碼問題
```

```bash
data(analysis): 更新數據分析報告

- 完成2025-07-29訂單數據全面分析
- 生成5個視覺化圖表
- 提供業務洞察和改善建議
```

## 分支命名規範

### 主要分支
- **main**: 主分支，穩定版本
- **develop**: 開發分支
- **release/x.x.x**: 發布分支

### 功能分支
- **feature/功能名稱**: 新功能開發
- **bugfix/問題描述**: 錯誤修復
- **hotfix/緊急修復**: 緊急修復
- **analysis/分析名稱**: 數據分析專用
- **viz/圖表名稱**: 視覺化專用

### 示例
```bash
feature/excel-upload
bugfix/chart-rendering
analysis/order-data-2025-07
viz/revenue-dashboard
hotfix/security-patch
```

## 提交頻率建議

### 數據分析項目特殊考慮

1. **分析過程提交**：每完成一個分析階段就提交
   ```bash
   data(analysis): 完成數據清理和欄位分析
   data(analysis): 生成基礎統計摘要
   viz(analysis): 創建營收趨勢圖表
   docs(analysis): 完成分析報告撰寫
   ```

2. **避免大型提交**：不要將整個分析過程放在一個提交中

3. **敏感數據處理**：確保不提交原始數據文件

## 文件管理規則

### 應該提交的文件
- ✅ 源代碼文件
- ✅ 配置文件（不含敏感信息）
- ✅ 文檔和說明
- ✅ 分析腳本和工具
- ✅ 小型示例數據（脫敏後）
- ✅ 分析報告（Markdown格式）
- ✅ 重要的圖表文件（小於2MB）

### 不應該提交的文件
- ❌ 原始數據文件（.xlsx, .csv等）
- ❌ 大型圖片文件（>2MB）
- ❌ 臨時文件和緩存
- ❌ 個人配置文件
- ❌ 敏感信息（密碼、API密鑰等）
- ❌ 編譯產物和依賴包

## 代碼審查規範

### 提交前檢查清單
- [ ] 代碼符合項目風格
- [ ] 沒有包含敏感數據
- [ ] 測試通過
- [ ] 文檔已更新
- [ ] 提交訊息符合規範

### Pull Request 規範
1. **標題**：使用與提交訊息相同的格式
2. **描述**：詳細說明變更內容和原因
3. **檢查清單**：使用模板中的檢查清單
4. **關聯問題**：引用相關的Issue

## 發布規範

### 版本號規則
使用語義化版本控制（Semantic Versioning）：
- **主版本號**：不兼容的API修改
- **次版本號**：向下兼容的功能性新增
- **修訂號**：向下兼容的問題修正

### 發布流程
1. 從develop分支創建release分支
2. 完成測試和文檔更新
3. 合併到main分支並打標籤
4. 部署到生產環境
5. 合併回develop分支

## 緊急情況處理

### 熱修復流程
1. 從main分支創建hotfix分支
2. 快速修復問題
3. 測試驗證
4. 合併到main和develop分支
5. 立即部署

### 數據洩露應急處理
1. 立即停止相關操作
2. 從Git歷史中移除敏感文件
3. 更換相關密鑰和憑證
4. 通知相關人員
5. 記錄事件並改進流程

## 工具推薦

### Git Hook
建議使用pre-commit hook檢查：
- 敏感數據掃描
- 代碼格式檢查
- 提交訊息格式驗證

### 輔助工具
- **Conventional Commits**: 提交訊息規範工具
- **GitLens**: VS Code Git增強插件
- **SourceTree**: Git GUI工具
- **GitHub Desktop**: 簡化的Git操作界面
